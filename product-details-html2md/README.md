# 独立站电商详情页 Markdown 生成器

一个专为独立站电商设计的Chrome扩展程序，能够智能识别并提取商品详情页的关键信息，生成AI友好的结构化Markdown文档。特别适用于AI模型训练、数据分析和内容管理。

## ✨ 核心特性

- 🎯 **智能识别**：自动检测独立站商品页面，支持各种电商框架（Shopify、WooCommerce等）
- 📊 **Schema.org优先**：优先提取结构化数据，确保信息准确性
- 🔍 **多重备选**：当结构化数据不可用时，使用智能CSS选择器作为备选方案
- 🤖 **AI友好格式**：生成的Markdown针对AI模型优化，包含元数据和结构化信息
- 🏪 **独立站专用**：专门针对独立站设计，而非平台电商（淘宝、京东等）
- 💾 **一键下载**：支持直接下载生成的Markdown文件
- 👁️ **实时预览**：在下载前预览生成的Markdown内容
- 🎨 **现代UI**：简洁美观的用户界面，支持响应式设计

## 🎯 适用场景

### 独立站类型
- **Shopify商店**：完美支持Shopify的标准商品页面结构
- **WooCommerce网站**：兼容WordPress + WooCommerce电商网站
- **自建商城**：支持各种自建的电商网站
- **B2B平台**：适用于B2B独立站商品展示页面
- **品牌官网**：支持品牌官网的产品详情页

### 使用场景
- 🤖 **AI模型训练**：为电商AI模型提供标准化训练数据
- 📊 **数据分析**：批量收集竞品信息进行市场分析
- 📝 **内容管理**：标准化商品信息格式，便于内容管理
- 🔄 **数据迁移**：在不同电商平台间迁移商品数据
- 📋 **商品对比**：生成统一格式的商品信息便于对比

## 🛠️ 技术亮点

### 智能提取策略
1. **Schema.org结构化数据优先**：自动检测并解析JSON-LD格式的产品数据
2. **语义化HTML标签**：识别`itemprop`、`property`等语义化属性
3. **CSS选择器备选**：当结构化数据不完整时，使用智能选择器组合
4. **多重验证机制**：对提取结果进行验证和清洗

### 支持的数据类型
- ✅ 商品标题和描述
- ✅ 价格信息（当前价格、原价、货币）
- ✅ 品牌和SKU信息
- ✅ 商品图片（最多10张）
- ✅ 技术规格参数
- ✅ 库存状态
- ✅ 页面元数据

## 📦 安装指南

### 开发者模式安装

1. **下载源码**
```bash
git clone https://github.com/your-username/product-details-html2md.git
cd product-details-html2md
```

2. **打开Chrome扩展管理**
   - 地址栏输入：`chrome://extensions/`
   - 或菜单：更多工具 → 扩展程序

3. **启用开发者模式**
   - 打开右上角的"开发者模式"开关

4. **加载扩展**
   - 点击"加载已解压的扩展程序"
   - 选择项目文件夹

5. **验证安装**
   - 在工具栏看到插件图标 🏪
   - 访问独立站商品页面时图标显示绿色圆点

## 🚀 使用教程

### 基本使用
1. **访问商品页面**：在Chrome中打开任意独立站的商品详情页
2. **启动提取**：点击浏览器工具栏的插件图标 🏪
3. **智能分析**：插件自动分析页面结构和数据源
4. **一键提取**：点击"智能提取商品信息"按钮
5. **查看结果**：预览提取到的商品信息和生成的Markdown
6. **下载文件**：点击"下载Markdown文件"保存到本地

### 高级功能
- **实时预览**：点击"预览Markdown"查看生成的完整文档
- **提取统计**：查看提取到的图片数量、规格参数数量等统计信息
- **提取方法显示**：了解插件使用的提取策略（Schema.org + 选择器 或 纯选择器）

## 📋 生成的Markdown格式

插件生成的Markdown文件采用AI友好的结构化格式：

```markdown
# 商品标题

## 📊 商品元数据
| 字段 | 值 |
|------|----| 
| 商品URL | https://example.com/product/123 |
| 网站域名 | example.com |
| 提取时间 | 2024-01-01 12:00:00 |
| 提取方法 | Schema.org + 选择器 |
| SKU | PROD-123 |
| 品牌 | BrandName |

## 💰 价格信息
**当前价格**: USD 299.00
**原价**: USD 399.00
**库存状态**: 现货充足

## 📝 商品描述
商品的详细描述信息...

## 🔧 技术规格
- 规格参数1: 值1
- 规格参数2: 值2
...

## 🖼️ 商品图片
### 图片 1
![商品图片1](image-url-1)
**图片URL**: image-url-1

...

## 📄 页面信息
**页面标题**: 页面标题内容
**页面描述**: Meta描述内容

---
<!-- AI_METADATA_START
{完整的JSON格式数据}
AI_METADATA_END -->
```

## 🔧 配置选项

插件支持多种配置选项（计划在未来版本中实现）：

- **最大图片数量**：限制提取的图片数量（默认10张）
- **最大规格数量**：限制提取的规格参数数量（默认20个）
- **包含元数据**：是否在Markdown中包含JSON元数据
- **Schema.org优先级**：是否优先使用结构化数据

## 🧪 测试验证

### 使用测试页面
项目包含一个完整的测试页面 `test-page.html`：

1. 在浏览器中打开 `test-page.html`
2. 页面模拟了真实的独立站商品详情页
3. 包含完整的Schema.org结构化数据
4. 测试各种HTML结构和CSS类名

### 测试检查项
- ✅ Schema.org数据提取
- ✅ 基本信息提取（标题、价格、品牌）
- ✅ 图片URL提取
- ✅ 规格参数提取
- ✅ Markdown生成格式
- ✅ 文件下载功能

## 🤝 贡献指南

我们欢迎各种形式的贡献！

### 报告问题
- 提供详细的问题描述
- 包含问题网站的URL（如果可以公开）
- 描述期望的行为和实际行为

### 提交功能建议
- 详细描述新功能的用途
- 说明功能的实现思路
- 提供相关的使用场景

### 代码贡献
1. Fork本项目
2. 创建功能分支：`git checkout -b feature/新功能`
3. 提交更改：`git commit -m '添加新功能'`
4. 推送分支：`git push origin feature/新功能`
5. 创建Pull Request

## 📂 项目结构

```
product-details-html2md/
├── manifest.json              # Chrome扩展配置
├── background.js             # 后台服务脚本
├── content-script.js         # 核心提取逻辑
├── content-style.css         # 视觉反馈样式
├── popup.html               # 用户界面
├── popup.js                # 界面控制逻辑
├── test-page.html          # 测试页面
├── package.json            # 项目配置
├── README.md              # 项目文档
└── icons/                 # 图标资源
    ├── icon-16.png
    ├── icon-48.png
    └── icon-128.png
```

## 🔍 技术实现细节

### 数据提取优先级
1. **JSON-LD Schema.org数据**（最高优先级）
2. **HTML微数据属性**（itemprop等）
3. **Open Graph标签**（og:title等）
4. **CSS选择器匹配**（备选方案）

### 选择器策略
```javascript
// 商品标题选择器示例
title: [
  '[itemprop="name"]',           // Schema.org微数据
  '[property="og:title"]',       // Open Graph
  'h1.product-title',            // 语义化类名
  'h1[class*="product"]',        // 包含product的类名
  'h1'                          // 通用H1标签
]
```

### 错误处理机制
- 网络连接异常处理
- 页面结构变化适配
- 数据格式验证
- 用户友好的错误提示

## 📈 版本历史

### v1.0.0 (2024-01-01)
- ✨ 初始版本发布
- 🎯 支持独立站商品信息智能提取
- 📊 Schema.org结构化数据优先策略
- 🤖 AI友好的Markdown格式输出
- 💾 文件下载和预览功能
- 🎨 现代化用户界面设计

## 🔮 未来计划

- [ ] 批量提取功能
- [ ] 自定义Markdown模板
- [ ] 数据导出为JSON/CSV格式
- [ ] 商品信息对比功能
- [ ] 云端数据同步
- [ ] API接口支持

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情

## 🙋‍♂️ 常见问题

**Q: 为什么某些独立站提取不到完整信息？**  
A: 独立站的结构差异很大，插件会持续优化选择器策略。如果遇到问题，请提供网站URL以便我们改进。

**Q: Schema.org数据和选择器提取有什么区别？**  
A: Schema.org数据更准确完整，选择器提取作为备选方案。插件会自动选择最佳策略。

**Q: 生成的Markdown如何用于AI模型训练？**  
A: 文档末尾包含完整的JSON元数据，可以直接用于模型训练或进一步数据处理。

**Q: 插件是否会上传或存储我的数据？**  
A: 不会。所有数据处理都在本地完成，插件不会上传任何信息到服务器。

**Q: 支持哪些独立站电商框架？**  
A: 支持Shopify、WooCommerce、Magento等主流框架，以及各种自建商城系统。

---

🌟 **如果这个项目对您有帮助，请给我们一个Star支持！**

📧 **问题反馈**: [提交Issue](https://github.com/your-username/product-details-html2md/issues)

🔗 **项目主页**: [GitHub仓库](https://github.com/your-username/product-details-html2md)